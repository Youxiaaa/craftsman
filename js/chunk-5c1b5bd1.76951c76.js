(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c1b5bd1"],{8418:function(t,a,e){"use strict";var s=e("c04e"),i=e("9bf2"),c=e("5c6c");t.exports=function(t,a,e){var n=s(a);n in t?i.f(t,n,c(0,e)):t[n]=e}},"8eeb":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("navBar"),e("router-view"),e("footerBar"),e("Cart")],1)},i=[],c=(e("ac1f"),e("5319"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"computerHeader"},[e("header",[e("nav",{staticClass:"computerHeader d-flex justify-content-center"},[e("router-link",{attrs:{to:"/"}},[e("h1",{staticClass:"logo"},[e("a",{staticClass:"text-dark h5",attrs:{href:"#"}},[t._v("Craftsman")])])]),e("ul",{staticClass:"d-flex ml-auto align-items-center mt-3 computerTopmenu"},[e("li",{staticClass:"list-unstyled topMenu mx-3"},[e("router-link",{class:{"text-white":"home"===t.pageLocation,"text-dark":"home"!==t.pageLocation,navActive:"products"===t.pageLocation},attrs:{to:"/products"}},[t._v("Products")])],1),e("li",{staticClass:"list-unstyled topMenu mx-3"},[e("a",{class:{"text-white":"home"===t.pageLocation,"text-dark":"home"!==t.pageLocation,navActive:"blog"===t.pageLocation},attrs:{href:"https://www.facebook.com/YuTsungChih",target:"_blank"}},[t._v("Blog")])]),e("li",{staticClass:"list-unstyled topMenu mx-3"},[e("a",{class:{"text-white":"home"===t.pageLocation,"text-dark":"home"!==t.pageLocation,navActive:"contact"===t.pageLocation},attrs:{href:"https://github.com/Youxiaaa",target:"_blank"}},[t._v("Contact")])]),e("li",{staticClass:"list-unstyled topMenu mx-3 d-flex cartIcon"},[e("a",{class:{"text-white":"home"===t.pageLocation,"text-dark":"home"!==t.pageLocation},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openCart(a)}}},[e("i",{staticClass:"fas fa-shopping-cart"})]),t._v(" "),e("h6",[0!==t.getcartLen?e("span",{staticClass:"badge badge-danger",on:{click:function(a){return a.preventDefault(),t.openCart(a)}}},[t._v(" "+t._s(t.getcartLen)+" ")]):t._e()])])])],1)])]),e("div",{staticClass:"responsiveHeadser"},[e("div",{staticClass:"row m-0 pt-4"},[t._m(0),t._m(1),e("div",{staticClass:"col-4 text-center"},[e("a",{staticClass:"h4",class:{"text-white":"home"===t.pageLocation,"text-dark":"home"!==t.pageLocation},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openCart(a)}}},[e("i",{staticClass:"fas fa-shopping-cart text-white"})]),t._v(" "),e("h6",[0!==t.getcartLen?e("span",{staticClass:"badge badge-danger",on:{click:function(a){return a.preventDefault(),t.openCart(a)}}},[t._v(" "+t._s(t.getcartLen)+" ")]):t._e()])])])])])}),n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-4 text-center"},[e("span",{staticClass:"text-white"},[e("a",{staticClass:"h4",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-bars text-white"})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-4 text-center"},[e("h1",{staticClass:"h4"},[e("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("Craftsman")])])])}],r={data:function(){return{pageLocation:"",cartData:JSON.parse(localStorage.getItem("cartData"))||[]}},methods:{openCart:function(){var t=this;t.$bus.$emit("cartisOpen",!0)}},computed:{getcartLen:function(){var t=this;return t.cartData.length}},created:function(){var t=this;t.$bus.$on("getPageLocation",(function(a){t.pageLocation=a})),t.$bus.$on("updatecartLen",(function(a){t.cartData=a}))}},o=r,l=e("2877"),u=Object(l["a"])(o,c,n,!1,null,null,null),d=u.exports,f=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("footer",[e("div",{staticClass:"footerBar"},[e("div",{staticClass:"d-flex flex-row-reverse align-items-center"},[e("ul",{staticClass:"d-flex"},[e("li",{staticClass:"list-unstyled"},[e("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("Purchase Policy")])]),e("li",{staticClass:"list-unstyled mx-5"},[e("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("Privacy Policy")])]),e("li",{staticClass:"list-unstyled"},[e("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("Terms & Conditions")])])]),e("h5",{staticClass:"h6 mr-auto text-white"},[t._v("© 2021. All Rights Reserved.")]),e("h3",{staticClass:"h5"},[e("a",{staticClass:"text-white mr-3",attrs:{href:"#"}},[t._v("CRAFTsMAN")])])])])])])}],p={},v=Object(l["a"])(p,f,h,!1,null,null,null),C=v.exports,g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t.curtainShow?e("div",{staticClass:"curtain",on:{click:function(a){t.cartisOpen=!t.cartisOpen,t.curtainShow=!t.curtainShow}}}):t._e(),e("div",{staticClass:"cart",class:{cartOpen:t.cartisOpen}},[e("div",{staticClass:"d-flex align-items-center"},[e("h2",{staticClass:"mr-auto h1"},[t._v("Cart List")]),e("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.cartisOpen=!t.cartisOpen,t.curtainShow=!t.curtainShow}}},[e("i",{staticClass:"fas fa-times fa-2x"})])]),e("div",{staticClass:"row mt-3"},t._l(t.cartData,(function(a){return e("div",{key:a.id,staticClass:"col-12 px-3 my-2"},[e("div",{staticClass:"d-flex justify-content-end cartBg"},[e("img",{attrs:{src:a.image,alt:"",width:"112px",height:"112px"}}),e("div",{staticClass:"d-flex flex-column mr-auto ml-4 justify-content-center"},[e("h4",{staticClass:"h5 ml-2"},[t._v(" "+t._s(a.title)+" ")]),e("div",{staticClass:"ml-2"},[e("span",{staticClass:"h5 text-secondary mr-2"},[t._v(" "+t._s(t._f("DollarsignFilter")(a.price))+" ")]),a.origin_price?e("del",[t._v(" "+t._s(t._f("DollarsignFilter")(a.origin_price))+" ")]):t._e()]),e("div",{staticClass:"btn-group mr-2 addBtn",attrs:{role:"group","aria-label":"Second group"}},[e("button",{staticClass:"btn bg-weak",class:{pageDisabled:1===a.qty},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.minusQty(a)}}},[e("span",{staticClass:"h4"},[t._v("-")])]),e("input",{staticClass:"text-center bg-weak",attrs:{type:"number",min:"1",max:"10",disabled:""},domProps:{value:a.qty}}),e("button",{staticClass:"btn bg-weak",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.plusQty(a)}}},[e("span",{staticClass:"h4"},[t._v("+")])])])]),e("div",{staticClass:"d-flex flex-column align-items-end justify-content-between px-3 py-2"},[e("a",{staticClass:"text-dark h4",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delCart(a)}}},[e("i",{staticClass:"fas fa-times"})]),e("h3",{staticClass:"h5"},[t._v(" "+t._s(t._f("DollarsignFilter")(a.price*a.qty))+" ")])])])])})),0),0!==t.cartData.length?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-3"}),e("div",{staticClass:"col-9 d-flex pr-3 pl-0"},[e("span",{staticClass:"mr-auto h6 text-secondary"},[t._v("Subtotal")]),e("span",{staticClass:"h6 text-secondary"},[t._v(" "+t._s(t._f("DollarsignFilter")(t.gettotalPrice))+" ")])])]):t._e(),0!==t.cartData.length?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-3"}),e("div",{staticClass:"col-9 d-flex pr-3 pl-0"},[e("span",{staticClass:"mr-auto h6 text-secondary"},[t._v("Shipping")]),e("span",{staticClass:"h6 text-secondary"},[t._v(" "+t._s(t._f("DollarsignFilter")(t.shipping))+" ")])])]):t._e(),0!==t.cartData.length?e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-3"}),e("div",{staticClass:"col-9 d-flex pr-3 pl-0"},[e("span",{staticClass:"mr-auto h4 text-dark"},[t._v("Total")]),e("span",{staticClass:"h4 text-dark"},[t._v(" "+t._s(t._f("DollarsignFilter")(t.gettotalPrice+t.shipping))+" ")])])]):t._e(),0!==t.cartData.length?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-3"}),e("div",{staticClass:"col-9 pr-3 pl-0"},[e("a",{staticClass:"btn btn-primary d-block py-3",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toCheckout(a)}}},[t._v("Checkout")])])]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[0===t.cartData.length?e("div",{staticClass:"d-flex flex-column align-items-center"},[e("span",{staticClass:"h3"},[t._v("購 物 車 目 前 是 空 的 唷")]),e("button",{staticClass:"p-0 mt-3 borderNone",on:{click:function(a){t.cartisOpen=!t.cartisOpen,t.curtainShow=!t.curtainShow}}},[e("router-link",{staticClass:"btn btn-dark p-3",attrs:{to:"/products"}},[t._v("前 往 商 品 頁")])],1)]):t._e()])])])],1)},m=[],x=(e("99af"),e("4de4"),e("4160"),e("a434"),e("159b"),{data:function(){return{isLoading:!1,cartisOpen:!1,curtainShow:!1,local:JSON.parse(localStorage.getItem("cartData"))||[],cartData:[],shipping:80}},methods:{getCart:function(){var t=this;t.cartData=t.local},delCart:function(t){var a=this;a.local.filter((function(e,s){t.id===e.id&&(a.cartData.splice(s,1),localStorage.setItem("cartData",JSON.stringify(a.local)),a.cartData=a.local,a.$bus.$emit("updatecartLen",a.cartData),a.$noty.error("".concat(e.title," 已從購物車移除")))}))},plusQty:function(t){var a=this;a.local.filter((function(e){t.id===e.id&&(e.qty+=1,localStorage.setItem("cartData",JSON.stringify(a.local)))}))},minusQty:function(t){var a=this;a.local.filter((function(e){t.id===e.id&&(e.qty-=1,localStorage.setItem("cartData",JSON.stringify(a.local)))}))},toCheckout:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("youxiaaa2","/cart"),e=[],s=[];t.isLoading=!0,t.$http.get(a).then((function(t){s=t.data.data.carts,s.forEach((function(t){e.push(t.id)}))})).then((function(){e.forEach((function(a){t.$http.delete("".concat("https://vue-course-api.hexschool.io","/api/").concat("youxiaaa2","/cart/").concat(a))}))})).then((function(){t.local.forEach((function(e){var s={product_id:e.id,qty:e.qty};t.$http.post(a,{data:s}).then((function(a){console.log(a.data),t.cartData=[],localStorage.removeItem("cartsData"),localStorage.setItem("cartData",JSON.stringify(t.cartData)),t.isLoading=!1,t.$router.push("/checkout"),t.$bus.$emit("updatecartLen",t.cartData)}))}))})),t.cartisOpen=!1,t.curtainShow=!1}},computed:{gettotalPrice:function(){var t=this,a=0;return t.cartData.forEach((function(t){a+=t.price*t.qty})),parseInt(a)}},created:function(){var t=this;setTimeout((function(){t.getCart()}),50),t.$bus.$on("cartisOpen",(function(a){t.cartisOpen=a,t.curtainShow=!0})),t.$bus.$on("updateCart",(function(a){t.cartData=a,t.local=a}))}}),_=x,b=Object(l["a"])(_,g,m,!1,null,null,null),w=b.exports,y={components:{navBar:d,footerBar:C,Cart:w},created:function(){var t=this,a=document.cookie.replace(/(?:(?:^|.*;\s*)youxiaaaToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t.$http.defaults.headers.common.Authorization=a}},k=y,D=Object(l["a"])(k,s,i,!1,null,null,null);a["default"]=D.exports},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),c=e("e8b5"),n=e("861d"),r=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),f=e("b622"),h=e("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,C="Maximum allowed index exceeded",g=h>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=d("concat"),x=function(t){if(!n(t))return!1;var a=t[p];return void 0!==a?!!a:c(t)},_=!g||!m;s({target:"Array",proto:!0,forced:_},{concat:function(t){var a,e,s,i,c,n=r(this),d=u(n,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(c=-1===a?n:arguments[a],x(c)){if(i=o(c.length),f+i>v)throw TypeError(C);for(e=0;e<i;e++,f++)e in c&&l(d,f,c[e])}else{if(f>=v)throw TypeError(C);l(d,f++,c)}return d.length=f,d}})},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),c=e("a691"),n=e("50c4"),r=e("7b0b"),o=e("65f0"),l=e("8418"),u=e("1dde"),d=e("ae40"),f=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,C=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,a){var e,s,u,d,f,h,m=r(this),x=n(m.length),_=i(t,x),b=arguments.length;if(0===b?e=s=0:1===b?(e=0,s=x-_):(e=b-2,s=v(p(c(a),0),x-_)),x+e-s>C)throw TypeError(g);for(u=o(m,s),d=0;d<s;d++)f=_+d,f in m&&l(u,d,m[f]);if(u.length=s,e<s){for(d=_;d<x-s;d++)f=d+s,h=d+e,f in m?m[h]=m[f]:delete m[h];for(d=x;d>x-s+e;d--)delete m[d-1]}else if(e>s)for(d=x-s;d>_;d--)f=d+s-1,h=d+e-1,f in m?m[h]=m[f]:delete m[h];for(d=0;d<e;d++)m[d+_]=arguments[d+2];return m.length=x-s+e,u}})}}]);
//# sourceMappingURL=chunk-5c1b5bd1.76951c76.js.map